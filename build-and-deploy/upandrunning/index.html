
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://ibm-wsc.github.io/cloud-native-linuxone/build-and-deploy/upandrunning/" rel="canonical"/>
<link href="../../images/pipelines-logo.png" rel="icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-7.1.8" name="generator"/>
<title>5. PetClinic Up and Running - Cloud Native LinuxONE Workshop</title>
<link href="../../assets/stylesheets/main.ca7ac06f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.f1a3b89f.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<link href="../../css/print-site.css" rel="stylesheet"/>
<link href="../../css/print-site-material.css" rel="stylesheet"/>
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-174658170-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
</head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="preference" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#getting-your-petclinic-application-up-and-running">5. 
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Cloud Native LinuxONE Workshop" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Cloud Native LinuxONE Workshop">
<img alt="logo" src="../../images/pipelines-logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Cloud Native LinuxONE Workshop
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              5. PetClinic Up and Running
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/ibm-wsc/cloud-native-linuxone/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Cloud Native LinuxONE Workshop" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Cloud Native LinuxONE Workshop">
<img alt="logo" src="../../images/pipelines-logo.png"/>
</a>
    Cloud Native LinuxONE Workshop
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/ibm-wsc/cloud-native-linuxone/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        1. Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../introduction/">
        2. Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../prerequisites/">
        3. Prerequisites
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
        Build and Deploy Pet Clinic
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Build and Deploy Pet Clinic" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Build and Deploy Pet Clinic
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../build_overview/">
        4. Build and Deploy Overview
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          5. PetClinic Up and Running
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        5. PetClinic Up and Running
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-into-your-linuxone-community-cloud-openshift-environment">5.1 
    Logging into your LinuxONE Community Cloud OpenShift environment
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploying-mysql-database">5.2 
    Deploying MySQL database
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fork-the-petclinic-repo-to-your-own-github-account">5.3 
    Fork the PetClinic repo to your own GitHub account
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#building-and-deploying-petclinic-application">5.4 
    Building and Deploying PetClinic Application
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interacting-with-your-petclinic-application-and-mysql-database">5.5 
    Interacting with Your PetClinic Application and MySQL database
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">5.6 
    Summary
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
        Configure PetClinic's Pipeline
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Configure PetClinic's Pipeline" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Configure PetClinic's Pipeline
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../full-dev-pipeline/configure_overview/">
        6. Configure Pipeline Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../full-dev-pipeline/pipeline/">
        7. Configure Build and Test
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../full-dev-pipeline/runpipeline/">
        8. Configure Development Deployment
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
        Test and Promote Pet Clinic
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Test and Promote Pet Clinic" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Test and Promote Pet Clinic
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../application-promotion/promote_overview/">
        9. Test and Promote Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../application-promotion/promote/">
        10. Promoting Application
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../application-promotion/git/">
        11. Integrating Git
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../application-promotion/action/">
        12. CI/CD in Action
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
        Cleanup
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Cleanup" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Cleanup
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cleanup/full-cleanup/">
        13. Environment Cleanup
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../resources/">
        14. Other resources
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../proposechange/">
        15. Propose a change
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../print_page/">
        Print Site
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-into-your-linuxone-community-cloud-openshift-environment">5.1 
    Logging into your LinuxONE Community Cloud OpenShift environment
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploying-mysql-database">5.2 
    Deploying MySQL database
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fork-the-petclinic-repo-to-your-own-github-account">5.3 
    Fork the PetClinic repo to your own GitHub account
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#building-and-deploying-petclinic-application">5.4 
    Building and Deploying PetClinic Application
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interacting-with-your-petclinic-application-and-mysql-database">5.5 
    Interacting with Your PetClinic Application and MySQL database
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">5.6 
    Summary
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/ibm-wsc/cloud-native-linuxone/edit/main/docs/build-and-deploy/upandrunning.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="getting-your-petclinic-application-up-and-running"><span class="enumerate-heading-plugin">5.</span> Getting Your PetClinic Application Up and Running<a class="headerlink" href="#getting-your-petclinic-application-up-and-running" title="Permanent link">Â¶</a></h1>
<p>For this workshop you will be using the iconic Spring PetClinic application. The Spring PetClinic is a sample application designed to show how the Spring stack can be used to build simple, but powerful database-oriented applications. <a href="https://github.com/spring-projects/spring-petclinic" rel="noopener noreferrer" target="_blank">The official version of PetClinic</a> demonstrates the use of <abbr title="Java open-source framework for microservices">Spring Boot</abbr> with <abbr title="(Spring Model View Controllers):">Spring MVC</abbr> and <abbr title="(Spring Data Java Persistent API):">Spring Data JPA</abbr>. </p>
<p>You will not be focusing on the ins and outs of the PetClinic application itself, but rather on leveraging <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> tooling to build a PetClinic <abbr title="an application that takes full advantage of the cloud capabilities due to a microservices based architecture that can be scaled up and down independently.">cloud native</abbr> application and a DevOps pipeline for the application.</p>
<p>You will start by building your PetClinic application from the source code and connecting it to a MySQL database.</p>
<div class="admonition note">
<p class="admonition-title">Lab Guide</p>
<ul>
<li>For the images in this lab:</li>
<li>the <span style="color:green">green</span> arrows or boxes denote something to look at or reference </li>
<li>the <span style="color:red">red</span> arrows or boxes denote something to click on or type.</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Using <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> Community Cloud</p>
<p>Because you are using the <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> Community Cloud <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> trial, your project name will be different from the project name depicted in the diagrams below. You will be operating in your assigned project for the entirety of the lab.</p>
</div>
<h2 id="logging-into-your-linuxone-community-cloud-openshift-environment"><span class="enumerate-heading-plugin">5.1</span> Logging into your <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> Community Cloud <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> environment<a class="headerlink" href="#logging-into-your-linuxone-community-cloud-openshift-environment" title="Permanent link">Â¶</a></h2>
<p><strong>1.</strong> Please complete the <a href="../../prerequisites/">Prerequisites</a> and register for a <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> Community Cloud <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> trial if you have not done so already.</p>
<p><strong>2.</strong> After you register, you should have received an email asking you to Activate your account or entitlement. Please do so now if you have not already done so. The link to activate your trial is only valid for 48 hours after your initial registration. If this time period has passed you need to re-register for the trial again.</p>
<p><img alt="linuxoneccactivation" src="../upandrunningimages/linuxoneccactivation.png"/></p>
<p><strong>3.</strong> After activiation, <a href="https://linuxone.cloud.marist.edu">log into your <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> Community Cloud account</a>. </p>
<p><strong>4.</strong> You should see the following in your dashboard. Select your <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> trial link:</p>
<p><img alt="linuxoneccocp" src="../upandrunningimages/linuxonecchome.png"/></p>
<p><strong>5.</strong> Log into <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> console with the same username and password that you used to log into your <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> Community Cloud account (the same set that you registered with).</p>
<p><img alt="linuxoneocp" src="../upandrunningimages/linuxoneccocplogin.png"/></p>
<p><strong>6.</strong> You should see the Topology view of the <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> console. Click on  your project name (it will be a number randomly assigned to you that will be different than the one shown in the picture below):</p>
<p><img alt="linuxoneccocpfirstscreen" src="../upandrunningimages/linuxoneccocpfirstscreen.png"/></p>
<h2 id="deploying-mysql-database"><span class="enumerate-heading-plugin">5.2</span> Deploying MySQL database<a class="headerlink" href="#deploying-mysql-database" title="Permanent link">Â¶</a></h2>
<p><strong>1.</strong> First, you need to setup your mysql database. Luckily, this is very easy on <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> with the mysql template available from the main developer topology window. Follow the steps in the diagram below to bring up the available database options. (Note your project name will be different than the picture below)</p>
<p><img alt="Add DB" src="../upandrunningimages/devselectdatabase.png"/></p>
<p><b>Now you can start the lab!</b></p>
<p><strong>2.</strong> Next, select the <code>MySQL (Ephemeral)</code> tile. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You are choosing the ephemeral option because at this point you do not care to persist the database beyond the life of the <abbr title="a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another">container</abbr>.</p>
</div>
<p><img alt="Select MySQL" src="../upandrunningimages/selectmqephemeral.png"/></p>
<p><strong>3.</strong> Click on instantiate template.</p>
<p><img alt="Select DB" src="../upandrunningimages/instantiatetemplate.png"/></p>
<p><strong>4.</strong> Fill the wizard with the parameters as shown in the image below (your namespace will be different from the image below):</p>
<p><img alt="DB parameters" src="../upandrunningimages/mysqlparameters.png"/></p>
<p>Click the <code>Create</code> button. </p>
<div class="admonition info">
<p class="admonition-title">Why Ephemeral?</p>
<p>You are using the <strong>Ephemeral</strong> implementation because this a short-lived demo and you do not need to retain the data.  In a staging or production environment, you will most likely be using a MySQL deployment backed by a Persistent Volume Claim. This stores the data in a Persistent Volume (basically a virtual hard drive), and the data will persist beyond the life of the <abbr title="a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another">container</abbr>.</p>
</div>
<p>A minute or two later, in the <code>Topology</code> view of your <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> Console, you should see <code>mysql</code> in the <code>Running</code> state. (Click on the Topology icon for <code>mysql</code> to bring up the side panel)</p>
<p><img alt="DB running" src="../upandrunningimages/mysqlrunning.png"/></p>
<h2 id="fork-the-petclinic-repo-to-your-own-github-account"><span class="enumerate-heading-plugin">5.3</span> Fork the PetClinic <abbr title="repository">repo</abbr> to your own GitHub account<a class="headerlink" href="#fork-the-petclinic-repo-to-your-own-github-account" title="Permanent link">Â¶</a></h2>
<p>For this workshop, you will be using the PetClinic application from your own GitHub account so that you can enable integrations with it later.</p>
<p>To make a copy of the PetClinic application into your GitHub account, navigate to the following from your browser:</p>
<div class="highlight"><pre><span></span><code>https://github.com/ibm-wsc/spring-petclinic
</code></pre></div>
<p>Then click on the <code>fork</code> button on the upper right corner.</p>
<p><img alt="repofork" src="../upandrunningimages/gitrepofork.png"/></p>
<p>At this point, you might need to log into GitHub if you weren't logged in already.</p>
<p>Next, you might be presented with a screen to ask you to select where to fork to. Select your own user account to fork to.</p>
<p><img alt="reposelect" src="../upandrunningimages/forkselection.png"/></p>
<p>Please make a note of your <abbr title="repository">repo</abbr> URL for later. It should be something like:</p>
<p><code>https://github.com/&lt;your-github-username&gt;/spring-petclinic</code></p>
<p>That's it! You are ready to move on to the next section.</p>
<h2 id="building-and-deploying-petclinic-application"><span class="enumerate-heading-plugin">5.4</span> Building and Deploying PetClinic Application<a class="headerlink" href="#building-and-deploying-petclinic-application" title="Permanent link">Â¶</a></h2>
<p>There are multiple ways <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> enables <abbr title="an application that takes full advantage of the cloud capabilities due to a microservices based architecture that can be scaled up and down independently.">cloud native</abbr> application developers to package up their applications and deploy them. For PetClinic, you will be building your <abbr title="application and all of its software dependencies packaged into a tarball that runs as a container using a runtime engine such as Docker or Podman.">container image</abbr> from source, leveraging <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr>'s S2I (Source to Image) capability. This allows you to quickly test the building, packaging, and deployment of your application, and gives you the option to create and use a DevOps pipeline from this workflow. It's a good way to start to understand how <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> Pipelines work.</p>
<p><strong>1.</strong> Start with choosing Add From Git:</p>
<p><img alt="from git" src="../upandrunningimages/fromgit.png"/></p>
<p><strong>2.</strong> Enter <code>https://github.com/&lt;your-github-ID&gt;/spring-petclinic</code> in the <code>Git Repo URL</code> field. Expand the <code>Show Advanced Git Options</code> section, and type in <code>main</code> for the <code>Git Reference</code>. This tells <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> which GitHub <abbr title="repository">repo</abbr> and branch to pull the source code from.</p>
<p><img alt="git url" src="../upandrunningimages/giturl.png"/></p>
<p><strong>3.</strong> Scroll down to the <code>Builder</code> section. Select the <code>OpenJ9</code> tile and select <code>openj9-11-el8</code> as the builder <abbr title="application and all of its software dependencies packaged into a tarball that runs as a container using a runtime engine such as Docker or Podman.">container image</abbr> version. As you can see <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> offers many different builder <abbr title="a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another">container</abbr> images to help you build <abbr title="a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another">container</abbr> images from a variety of programming languages. Your list of builder <abbr title="a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another">container</abbr> images might differ from the screen shot. For Java on Z, the recommended <abbr title="(Java Virtual Machine): the runtime engine of the Java Platform. It enables Java programs and programs compiled into Java bytecode to run on any computer that has a native JVM">JVM</abbr> is <code>OpenJ9</code> because it has built-in <abbr title="optimizations for the s390x architecture that the LinuxONE family of servers uses. They enable software to run better on these servers.">s390x optimizations</abbr> as well as <abbr title="a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another">container</abbr> optimizations.</p>
<p><img alt="builder image" src="../upandrunningimages/builderimage.png"/></p>
<p><strong>4.</strong> In the General section, put in the following entries for Application Name and Name. </p>
<p><img alt="app name" src="../upandrunningimages/applicationname.png"/></p>
<p><strong>5.</strong> Scroll down to the  Pipelines section, and check off the box next to <code>Add pipeline</code>. You can also expand the <code>Show pipeline visualization</code> section to see a visual of the build pipeline.</p>
<p><img alt="add pipe" src="../upandrunningimages/addpipelines.png"/></p>
<p><strong>6.</strong> You are almost there! You will need to configure a couple of Advanced Options. First, click on <code>Routing</code> in the Advanced Options section to expand the Routing options.</p>
<p><img alt="open routing panel" src="../upandrunningimages/routinglink.png"/></p>
<p><strong>7.</strong> In the Routing options section, only fill out the Security options as follows. You can leave the rest alone. These options will enable only TLS access to your PetClinic application.</p>
<p><img alt="routing options" src="../upandrunningimages/routingpanel.png"/></p>
<p><strong>8.</strong> You are done with configurations of this panel. Scroll all the way down and hit the <code>Create</code> button which will kick off the pipeline build of your PetClinic application. In a few seconds you will see your Topology with the new application icon. Hit the little pipeline icon in the diagram below to view the build logs.</p>
<p><img alt="pipeline icon" src="../upandrunningimages/pipelineicon.png"/></p>
<div class="admonition warning">
<p class="admonition-title">Log Streaming Gotcha in the <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> CC</p>
<p><strong>PLEASE BEWARE</strong> that if you are using the <abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr> Community Cloud <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> Trial you might see lag with the log streaming. If it stops streaming, you might want to go back out to the <code>Topology</code> view. You can always return to the logs view, once the pipeline completes, to see the logs.</p>
</div>
<p><strong>9.</strong> The pipeline will go through three tasks:</p>
<p>Â Â Â  1. <b>fetch-repository</b> - this Pipeline task will <abbr title="clones a repository into a newly created directory, creates remote-tracking branches for each branch in the cloned repository (visible using `git branch --remotes`), and creates and checks out an initial branch that is forked from the cloned repositoryâ€™s currently active branch.">git clone</abbr> your PetClinic <abbr title="repository">repo</abbr> for the build task.</p>
<p>Â Â Â  2. <b>build</b> - this Pipeline task is the build process which itself is broken down into a few sub-steps. This is the longest task in the pipeline, and can take up to 15 minutes. The steps that it goes through are as follows:</p>
<div class="admonition info">
<p class="admonition-title">build steps</p>
<ul>
<li>STEP-GEN-ENV-FILE: this step generates the environment file to be used during the build process</li>
<li>STEP-GENERATE: this step generates the Dockerfile that will be used to create the <abbr title="(Open Container Initiative): an open governance structure for the express purpose of creating open industry standards around container formats and runtimes">OCI</abbr> <abbr title="application and all of its software dependencies packaged into a tarball that runs as a container using a runtime engine such as Docker or Podman.">container image</abbr> later on during the build step</li>
<li>STEP-BUILD: this is the multi-step build process of creating an <abbr title="(Open Container Initiative): an open governance structure for the express purpose of creating open industry standards around container formats and runtimes">OCI</abbr> <abbr title="application and all of its software dependencies packaged into a tarball that runs as a container using a runtime engine such as Docker or Podman.">container image</abbr> out of your Java application PetClinic. It will download the required Maven Java packages, compile the Java application, run through a set of 39 unit tests on the application, and finally build the application jar file and the <abbr title="(Open Container Initiative): an open governance structure for the express purpose of creating open industry standards around container formats and runtimes">OCI</abbr> <abbr title="application and all of its software dependencies packaged into a tarball that runs as a container using a runtime engine such as Docker or Podman.">container image</abbr>. If the tests fail, this step will not complete.</li>
<li>STEP-PUSH: this final step pushes the built <abbr title="(Open Container Initiative): an open governance structure for the express purpose of creating open industry standards around container formats and runtimes">OCI</abbr> <abbr title="application and all of its software dependencies packaged into a tarball that runs as a container using a runtime engine such as Docker or Podman.">container image</abbr> to the <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> image registry.</li>
</ul>
</div>
<p>Â Â Â  3. <b>deploy</b> - this Pipeline task will deploy the newly built <abbr title="application and all of its software dependencies packaged into a tarball that runs as a container using a runtime engine such as Docker or Podman.">container image</abbr> as a running deployment in your project. After this, your application will be running in a pod and be accessible via a route.</p>
<p>Below is an image of the log of a successful build task: </p>
<p><img alt="build output" src="../upandrunningimages/buildlog.png"/></p>
<p><strong>10.</strong> Now if you go back to the Topology view, you should see the application has been successfully deployed to <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> as well. From here you can click on the <code>open URL</code> circle, and a new browser tab should open to lead you to your PetClinic's front page.</p>
<p><img alt="open URL" src="../upandrunningimages/openurl.png"/></p>
<h2 id="interacting-with-your-petclinic-application-and-mysql-database"><span class="enumerate-heading-plugin">5.5</span> Interacting with Your PetClinic Application and MySQL database<a class="headerlink" href="#interacting-with-your-petclinic-application-and-mysql-database" title="Permanent link">Â¶</a></h2>
<p>In this section, you will add a new owner to the Pet Clinic application, and then go into your MySQL <abbr title="a standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another">container</abbr> to see if that owner was successfully added. </p>
<p><strong>1.</strong> You Pet Clinic should look something similar to this. Go to the Find Owners tab, and create a new owner.</p>
<p><img alt="find owners" src="../upandrunningimages/findowners.png"/></p>
<p><strong>2.</strong> Click on the <code>Add Owner</code> button, and add an owner of your own, for example:</p>
<p><img alt="add owner" src="../upandrunningimages/addowner.png"/></p>
<p><strong>3.</strong> You can then go back to <code>Find Owners</code> and try searching for the owner that you just added. It should come back with the search results similar to the following.</p>
<p><img alt="search results" src="../upandrunningimages/searchresults.png"/></p>
<p><strong>4.</strong> Now let's check the MySQL database to make sure that the new owner you just added is in there.</p>
<p>Return to your <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> console, from the Topology view, click on the <code>mysql</code> icon. This will bring up a side panel, and then click on the <code>mysql</code> pod (your pod name will be different than the picture):</p>
<p><img alt="mysql pod access" src="../upandrunningimages/mysqlpod.png"/></p>
<p>In the pod panel, go to the Terminal tab.</p>
<p><img alt="mysql terminal" src="../upandrunningimages/mysqlterminal.png"/></p>
<p>Now type in the following commands in your <code>mysql</code> terminal (copy and paste box below image):</p>
<p><img alt="mysql access" src="../upandrunningimages/mysqlaccess.png"/></p>
<div class="highlight"><pre><span></span><code>mysql -u root -h mysql -ppetclinic
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="n">petclinic</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">show</span> <span class="k">tables</span><span class="p">;</span>
</code></pre></div>
<p>Let's run a SQL command now to verify that the owner that you added through the application is indeed in the database (copy and paste box below image):</p>
<p><img alt="mysql owner check" src="../upandrunningimages/mysqlowners.png"/></p>
<div class="highlight"><pre><span></span><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">owners</span><span class="p">;</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you added a different user than <em>alice</em> you should see that user in place of <em>alice</em> on your screen.</p>
</div>
<p>Please let the instructors know, if you don't see your owner you added listed. </p>
<h2 id="summary"><span class="enumerate-heading-plugin">5.6</span> Summary <img alt="ðŸŒš" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f31a.svg" title=":new_moon_with_face:"/><a class="headerlink" href="#summary" title="Permanent link">Â¶</a></h2>
<p>Congratulations, you have completed this part of the workshop! You have your virtual pet clinic up and running and have created an <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> Pipelines pipeline that you will build on in the next sections of the lab to achieve <abbr title="(Continuous Integration / Continuous Deployment): CI = Automate the building and testing of new code to integrate it into the codebase. CD = Automate releasing (deploying the build) into different environments. Together, your application is seamlessly updated, tested and deployed into your environments when new code is published (via Source Code Management software such as Git Hub).">CI/CD</abbr>. You may move on to the next part by clicking <code>Next</code> on the bottom of the page.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: 4. Build and Deploy Overview" class="md-footer__link md-footer__link--prev" href="../build_overview/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              4. Build and Deploy Overview
            </div>
</div>
</a>
<a aria-label="Next: 6. Configure Pipeline Overview" class="md-footer__link md-footer__link--next" href="../../full-dev-pipeline/configure_overview/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              6. Configure Pipeline Overview
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://github.com/ibm-wsc" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-footer-social__link" href="https://hub.docker.com/u/s390x" rel="noopener" target="_blank" title="hub.docker.com">
<svg viewbox="0 0 640 512" xmlns="http://www.w3.org/2000/svg"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.76f349be.min.js"></script>
<script src="../../js/print-site-instant-loading.js"></script>
<script src="../../js/print-site.js"></script>
</body>
</html>