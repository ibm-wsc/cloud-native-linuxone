
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://ibm-wsc.github.io/cloud-native-linuxone/application-promotion/action/" rel="canonical"/>
<link href="../../images/pipelines-logo.png" rel="icon"/>
<meta content="mkdocs-1.2.1, mkdocs-material-7.1.9" name="generator"/>
<title>12. CI/CD in Action - Cloud Native LinuxONE Workshop</title>
<link href="../../assets/stylesheets/main.ca7ac06f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.f1a3b89f.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<link href="../../css/print-site.css" rel="stylesheet"/>
<link href="../../css/print-site-material.css" rel="stylesheet"/>
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-174658170-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
</head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="preference" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#cicd-in-action">12. 
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Cloud Native LinuxONE Workshop" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Cloud Native LinuxONE Workshop">
<img alt="logo" src="../../images/pipelines-logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Cloud Native LinuxONE Workshop
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              12. CI/CD in Action
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/ibm-wsc/cloud-native-linuxone/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Cloud Native LinuxONE Workshop" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Cloud Native LinuxONE Workshop">
<img alt="logo" src="../../images/pipelines-logo.png"/>
</a>
    Cloud Native LinuxONE Workshop
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/ibm-wsc/cloud-native-linuxone/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        1. Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../introduction/">
        2. Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../prerequisites/">
        3. Prerequisites
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
        4-5. Build and Deploy Pet Clinic
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="4-5. Build and Deploy Pet Clinic" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          4-5. Build and Deploy Pet Clinic
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../build-and-deploy/build_overview/">
        4. Build and Deploy Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../build-and-deploy/upandrunning/">
        5. PetClinic Up and Running
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
        6-8. Configure PetClinic's Pipeline
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="6-8. Configure PetClinic's Pipeline" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          6-8. Configure PetClinic's Pipeline
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../full-dev-pipeline/configure_overview/">
        6. Configure Pipeline Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../full-dev-pipeline/pipeline/">
        7. Configure Build and Test
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../full-dev-pipeline/runpipeline/">
        8. Configure Development Deployment
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
        9-12. Test and Promote Pet Clinic
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="9-12. Test and Promote Pet Clinic" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          9-12. Test and Promote Pet Clinic
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../promote_overview/">
        9. Test and Promote Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../promote/">
        10. Promoting Application
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git/">
        11. Integrating Git
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          12. CI/CD in Action
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        12. CI/CD in Action
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#make-a-change-in-github">12.1 
    Make a change in GitHub
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#continuous-integration-via-openshift-pipelines">12.2 
    Continuous Integration via OpenShift Pipelines
  </a>
<nav aria-label="Continuous Integration via OpenShift Pipelines" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#successfully-run-pipeline-via-github">12.2.1 
    Successfully Run Pipeline via GitHub
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#see-changes-in-application">12.2.2 
    See Changes in Application
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">12.3 
    Summary
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../devsecops/devsecops/">
        13 [BONUS]. Add the "Sec" in "DevSecOps"
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
        14. Cleanup
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="14. Cleanup" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          14. Cleanup
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cleanup/full-cleanup/">
        14. Environment Cleanup
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../assignment/">
        15. Lab Assignments
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../devsecops/sonarqube/">
        REFERENCE 1. Setting up SonarQube Server in OpenShift
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../yamlsetup/">
        REFERENCE 2. Setting up PetClinic OpenShift Pipeline using yaml files
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../resources/">
        Other resources
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../proposechange/">
        Propose a change
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../print_page/">
        Print Site
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#make-a-change-in-github">12.1 
    Make a change in GitHub
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#continuous-integration-via-openshift-pipelines">12.2 
    Continuous Integration via OpenShift Pipelines
  </a>
<nav aria-label="Continuous Integration via OpenShift Pipelines" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#successfully-run-pipeline-via-github">12.2.1 
    Successfully Run Pipeline via GitHub
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#see-changes-in-application">12.2.2 
    See Changes in Application
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">12.3 
    Summary
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/ibm-wsc/cloud-native-linuxone/edit/main/docs/application-promotion/action.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="cicd-in-action"><span class="enumerate-heading-plugin">12.</span> <abbr title="(Continuous Integration / Continuous Deployment): CI = Automate the building and testing of new code to integrate it into the codebase. CD = Automate releasing (deploying the build) into different environments. Together, your application is seamlessly updated, tested and deployed into your environments when new code is published (via Source Code Management software such as Git Hub).">CI/CD</abbr> in Action<a class="headerlink" href="#cicd-in-action" title="Permanent link">Â¶</a></h1>
<h2 id="make-a-change-in-github"><span class="enumerate-heading-plugin">12.1</span> Make a change in GitHub<a class="headerlink" href="#make-a-change-in-github" title="Permanent link">Â¶</a></h2>
<ol>
<li>
<p>Navigate to your GitHub fork's main page (this is the <code>Code</code> tab if you are on a different tab such as settings)</p>
</li>
<li>
<p>Choose to <code>Go to file</code></p>
<p><img alt="Go to file" src="../../images/Part2/GoToFile.png"/></p>
</li>
<li>
<p>Type (or paste) the name of the following file into the search bar and select it (copy and paste box below image):</p>
<p><img alt="Choose File" src="../../images/Part2/ChooseFile.png"/></p>
<div class="highlight"><pre><span></span><code>src/main/resources/db/mysql/data.sql
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">If the file doesn't appear right away</p>
<p>Depending on your internet connection to GitHub, there may be a slight delay before the file appears for editing (your screen matches the picture above and you can click to select the file).</p>
</div>
</li>
<li>
<p>Select to edit the file</p>
<p><img alt="Edit File" src="../../images/Part2/EditGitFile.png"/></p>
</li>
<li>
<p>Change the file to add the pet field of your choice and commit it to your GitHub fork (description and copy and paste box are below image)</p>
<p><img alt="Change File" src="../../images/Part2/ChangeFile.png"/></p>
<ol>
<li>
<p>Make a change using the pet type you want to add (example is a turtle) </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The copy and paste box below can be entered on <strong>line 24</strong> with <code>enter</code> pressed after it to match the image above.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Turtle</p>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span> <span class="k">IGNORE</span> <span class="k">INTO</span> <span class="k">types</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="s1">'turtle'</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">I want to add Willow, an awesome armadillo, not Yertle the turtle!</p>
<p>If you want to add something other than a turtle as an option, please change <code>turtle</code> to that animal (i.e. <code>armadillo</code>) in the mysql statement above. For the armadillo example, the statement becomes:</p>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span> <span class="k">IGNORE</span> <span class="k">INTO</span> <span class="k">types</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="s1">'armadillo'</span><span class="p">);</span>
</code></pre></div>
</div>
</li>
<li>
<p>Type in a commit message (you can make this whatever you want) and commit the change (example copy and paste boxes from image above)</p>
<div class="admonition example">
<p class="admonition-title">Yertle the turtle</p>
<p><strong>Title</strong>
<div class="highlight"><pre><span></span><code>Turtle Time
</code></pre></div></p>
<p><strong>Extended Description</strong>
<div class="highlight"><pre><span></span><code>I want to be able to add Yertle the turtle.
</code></pre></div></p>
</div>
</li>
</ol>
</li>
<li>
<p>Take note of the git commit message and hash</p>
<p><img alt="Github Hash and Message" src="../../images/Part2/SeeCommitHash.png"/></p>
</li>
</ol>
<h2 id="continuous-integration-via-openshift-pipelines"><span class="enumerate-heading-plugin">12.2</span> Continuous Integration via <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> Pipelines<a class="headerlink" href="#continuous-integration-via-openshift-pipelines" title="Permanent link">Â¶</a></h2>
<h3 id="successfully-run-pipeline-via-github"><span class="enumerate-heading-plugin">12.2.1</span> Successfully Run Pipeline via GitHub<a class="headerlink" href="#successfully-run-pipeline-via-github" title="Permanent link">Â¶</a></h3>
<ol>
<li>
<p>Visit the newly triggered pipeline run in the <code>Pipelines</code> menu in the <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> <abbr title="user interface">UI</abbr></p>
<p><img alt="Newly Triggered PipelineRun" src="../../images/Part2/ViewGitPipelineRun.png"/></p>
</li>
<li>
<p>View the pipeline run from the <code>Details</code> view</p>
<p><img alt="PipelineRun Triggered" src="../../images/Part2/PipelineTriggered.png"/></p>
<p>You can see the <abbr title="(EventListener) is a Kubernetes custom resource that allows users a declarative way to process incoming HTTP based events with JSON payloads.">event listener</abbr> has triggered the <code>PipelineRun</code> instead of a user this time.</p>
</li>
<li>
<p>You can see the variables populated with the correct values from Github in the <code>YAML</code> view of the pipeline run.</p>
<p><img alt="Git Variables Populated" src="../../images/Part2/GitVariablesExist.png"/></p>
</li>
<li>
<p>Watch the results of your build pipeline run. It should complete successfully as in the pictures below. </p>
<div class="admonition info">
<p class="admonition-title">Your pipeline may take a while to run</p>
<p>The pipeline run may take anywhere from 10-25 minutes to complete depending on the current system load. You can see the progress of your build, as well as if any errors occur, via the <abbr title="user interface">UI</abbr>. Thus, by monitoring the <abbr title="user interface">UI</abbr>, you can make sure things are going as planned.</p>
</div>
<div class="admonition question">
<p class="admonition-title">What should you do if your pipeline run ends in failure</p>
<p>If your pipeline run ends in failure, please look at the <code>Failure</code> tab (immediately below this message) to get back on track (instead of the default <code>Success</code> tab).</p>
</div>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><label for="__tabbed_1_1">Success</label><div class="tabbed-content">
<p><strong>Pipeline Run Success View Perspective:</strong></p>
<p><img alt="Successful PipelineRun Details View" src="../../images/Part2/PipelineSucceeded.png"/></p>
<div class="admonition success">
<p class="admonition-title">Pipeline Run Details View</p>
<p>In the pipeline run <code>Details</code> view, you can see the pipeline run succeeded with all tasks having a green check mark. Additionally, observe that the <abbr title="(EventListener) is a Kubernetes custom resource that allows users a declarative way to process incoming HTTP based events with JSON payloads.">event listener</abbr> has triggered the <code>PipelineRun</code> instead of a user this time.</p>
</div>
<p><strong>Pipeline Run Success Logs Perspective:</strong></p>
<p><img alt="Successful PipelineRun Logs View 1" src="../../images/Part2/PipelineRunLogsSucceeded.png"/></p>
<div class="admonition success">
<p class="admonition-title">Pipeline Run Logs View 1</p>
<p>In the pipeline run <code>Logs</code> view, you can also see that the pipeline run tasks all have green check marks. Looking at the last task, you can see that the that the external connection check worked and the PetClinic application is available at the route printed in the logs. Additionally, you can see via the series of tasks marked with green checks that the dev deployment ran successfully and the system cleaned it up and ran the staging deployment successfully to complete the pipeline.</p>
</div>
<p><img alt="Successful PipelineRun Logs View 2" src="../../images/Part2/PipelineRunCommitLogs.png"/></p>
<div class="admonition success">
<p class="admonition-title">Pipeline Run Logs View 2</p>
<p>When you switch to the <code>deploy-staging</code> task logs, by clicking on the <code>task</code> on the left hand side of the <code>Logs</code> view of the pipeline run, you see this was an automated build from git since the task prints out the <code>GIT_MESSAGE</code> that you typed in your commit word for word. (<em>Note: If you chose a different commit message that will show instead of the one displayed in the image above.</em>).</p>
</div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio"><label for="__tabbed_1_2">Failure</label><div class="tabbed-content">
<div class="admonition failure">
<p class="admonition-title">Your pipeline failed, here is how to get back on the happy path</p>
<ol>
<li>
<p>Please review your <code>pipelineRun</code> and see what error caused the failure.</p>
</li>
<li>
<p>Make changes to fix the error. (If it's unclear what is causing the error / how to fix it, please ask the instructors for help) </p>
</li>
<li>
<p>Resend the <abbr title="sends a payload to the specified URL when a specific event occurs (such as a GitHub push)">webhook</abbr> from GitHub to <abbr title="captures and processes events from an external source (webhook) and maps the incoming data to a set of predefined parameters via a TriggerTemplate to create a new PipelineRun.">trigger</abbr> a new <code>pipelineRun</code> with the same values as before (see images below for help)</p>
<ol>
<li>
<p>Click on your <abbr title="sends a payload to the specified URL when a specific event occurs (such as a GitHub push)">webhook</abbr> from the <code>Webhooks</code> section of the repository settings for your GitHub repository fork of the <code>spring-petclinic</code> repository</p>
<p><img alt="GitHub Webhook View for Retry" src="../../images/Part2/ClickWebhookForRetry.png"/></p>
</li>
<li>
<p>Click on the 3 dots for the most recent delivery</p>
</li>
<li>
<p>Click <code>Redeliver</code></p>
<p><img alt="GitHub Webhook Send for Retry" src="../../images/Part2/RestartFailedPipelineRun.png"/></p>
</li>
<li>
<p>Confirm Redelivery</p>
<p><img alt="GitHub Webhook Confirm Redelivery" src="../../images/Part2/ConfirmRedelivery.png"/></p>
</li>
</ol>
</li>
</ol>
</div>
</div>
</input></input></div>
</li>
</ol>
<h3 id="see-changes-in-application"><span class="enumerate-heading-plugin">12.2.2</span> See Changes in Application<a class="headerlink" href="#see-changes-in-application" title="Permanent link">Â¶</a></h3>
<ol>
<li>
<p>Navigate to the <code>Topology</code> view and open a new tab with your recently deployed <code>staging</code> version of the PetClinic application by clicking <code>Open URL</code>.</p>
<p><img alt="PetClinic Visit Time" src="../../images/Part2/PetclinicTimeAgain.png"/></p>
</li>
<li>
<p>Navigate to the <code>Find Owners</code> tab</p>
<p><img alt="PetClinic Initial View" src="../../images/Part2/InitialViewPetClinic.png"/></p>
</li>
<li>
<p>Choose to add a new owner</p>
<p><img alt="Add Owner" src="../../images/Part2/AddOwner.png"/></p>
</li>
<li>
<p>Add the owner with details of your choice</p>
<p><img alt="Dr. Seuss Owner Add" src="../../images/Part2/AddSeus.png"/></p>
</li>
<li>
<p>Choose to add one of the owner's pets</p>
<p><img alt="Add Pet" src="../../images/Part2/AddNewPet.png"/></p>
</li>
<li>
<p>Fill in the pet's details and select the new type of pet you added (turtle for the example)</p>
<p><img alt="Add Yertle the Turtle" src="../../images/Part2/AddYertleTheTurtle.png"/></p>
</li>
<li>
<p>View the newly created pet of the new type (Yertle the turtle for the example)</p>
<p><img alt="Long Live Yertle" src="../../images/Part2/LongLiveYertle.png"/></p>
</li>
</ol>
<h2 id="summary"><span class="enumerate-heading-plugin">12.3</span> Summary <img alt="ðŸŒ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f31d.svg" title=":full_moon_with_face:"/><a class="headerlink" href="#summary" title="Permanent link">Â¶</a></h2>
<p>In this section, you made a change to your PetClinic application to add a new pet type of your choice and pushed the change to GitHub. This triggered a new pipeline run which built a new image for the application tagged with the git commit hash and displayed the commit message explaining the change the build was implementing. Next, your pipeline deployed this change to <abbr title="(OpenShift Container Platform / OCP): an open source container application platform based on the Kubernetes container orchestrator for enterprise application development and deployment">OpenShift</abbr> in development, tested it internally and externally and then rolled it out to staging (where it was also tested automatically). Finally, you visited the application and used the new feature (new type of pet) by adding a pet of that type to a new owner successfully. In other words, you are off the ground and running with "<abbr title="an application that takes full advantage of cloud capabilities due to a microservices based architecture that can be scaled up and down independently.">cloud native</abbr>" <abbr title="(Continuous Integration / Continuous Deployment): CI = Automate the building and testing of new code to integrate it into the codebase. CD = Automate releasing (deploying the build) into different environments. Together, your application is seamlessly updated, tested and deployed into your environments when new code is published (via Source Code Management software such as Git Hub).">CI/CD</abbr> for your PetClinic application on IBM Z/<abbr title="IBM LinuxONE is a family of servers built to host enterprise Linux applications using the s390x architecture that it shares with the IBM Z family of servers.">LinuxONE</abbr>! Congratulations!!!</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: 11. Integrating Git" class="md-footer__link md-footer__link--prev" href="../git/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              11. Integrating Git
            </div>
</div>
</a>
<a aria-label='Next: 13 [BONUS]. Add the "Sec" in "DevSecOps"' class="md-footer__link md-footer__link--next" href="../../devsecops/devsecops/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              13 [BONUS]. Add the "Sec" in "DevSecOps"
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://github.com/ibm-wsc" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-footer-social__link" href="https://hub.docker.com/u/s390x" rel="noopener" target="_blank" title="hub.docker.com">
<svg viewbox="0 0 640 512" xmlns="http://www.w3.org/2000/svg"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.82b56eb2.min.js"></script>
<script src="../../js/print-site-instant-loading.js"></script>
<script src="../../js/print-site.js"></script>
</body>
</html>